{
  "accounts": [
    {
      "docs": [
        "Collects instruction data without executing a compressed transaction.",
        "Signer checks are performed on instruction data.",
        "Collected instruction data is combined with the instruction data of the executing cpi,",
        "and executed as a single transaction.",
        "This enables to use input compressed accounts that are owned by multiple programs,",
        "with one zero-knowledge proof."
      ],
      "name": "cpiContextAccount",
      "type": {
        "fields": [
          {
            "name": "feePayer",
            "type": "publicKey"
          },
          {
            "name": "associatedMerkleTree",
            "type": "publicKey"
          },
          {
            "name": "context",
            "type": {
              "vec": {
                "defined": "InstructionDataInvokeCpi"
              }
            }
          }
        ],
        "kind": "struct"
      }
    }
  ],
  "constants": [
    {
      "name": "SOL_POOL_PDA_SEED",
      "type": "bytes",
      "value": "[115, 111, 108, 95, 112, 111, 111, 108, 95, 112, 100, 97]"
    }
  ],
  "errors": [
    {
      "code": 6000,
      "msg": "Sum check failed",
      "name": "SumCheckFailed"
    },
    {
      "code": 6001,
      "msg": "Signer check failed",
      "name": "SignerCheckFailed"
    },
    {
      "code": 6002,
      "msg": "Cpi signer check failed",
      "name": "CpiSignerCheckFailed"
    },
    {
      "code": 6003,
      "msg": "Computing input sum failed.",
      "name": "ComputeInputSumFailed"
    },
    {
      "code": 6004,
      "msg": "Computing output sum failed.",
      "name": "ComputeOutputSumFailed"
    },
    {
      "code": 6005,
      "msg": "Computing rpc sum failed.",
      "name": "ComputeRpcSumFailed"
    },
    {
      "code": 6006,
      "msg": "InvalidAddress",
      "name": "InvalidAddress"
    },
    {
      "code": 6007,
      "msg": "DeriveAddressError",
      "name": "DeriveAddressError"
    },
    {
      "code": 6008,
      "msg": "CompressedSolPdaUndefinedForCompressSol",
      "name": "CompressedSolPdaUndefinedForCompressSol"
    },
    {
      "code": 6009,
      "msg": "DecompressLamportsUndefinedForCompressSol",
      "name": "DecompressLamportsUndefinedForCompressSol"
    },
    {
      "code": 6010,
      "msg": "CompressedSolPdaUndefinedForDecompressSol",
      "name": "CompressedSolPdaUndefinedForDecompressSol"
    },
    {
      "code": 6011,
      "msg": "DeCompressLamportsUndefinedForDecompressSol",
      "name": "DeCompressLamportsUndefinedForDecompressSol"
    },
    {
      "code": 6012,
      "msg": "DecompressRecipientUndefinedForDecompressSol",
      "name": "DecompressRecipientUndefinedForDecompressSol"
    },
    {
      "code": 6013,
      "msg": "WriteAccessCheckFailed",
      "name": "WriteAccessCheckFailed"
    },
    {
      "code": 6014,
      "msg": "InvokingProgramNotProvided",
      "name": "InvokingProgramNotProvided"
    },
    {
      "code": 6015,
      "msg": "InvalidCapacity",
      "name": "InvalidCapacity"
    },
    {
      "code": 6016,
      "msg": "InvalidMerkleTreeOwner",
      "name": "InvalidMerkleTreeOwner"
    },
    {
      "code": 6017,
      "msg": "ProofIsNone",
      "name": "ProofIsNone"
    },
    {
      "code": 6018,
      "msg": "Proof is some but no input compressed accounts or new addresses provided.",
      "name": "ProofIsSome"
    },
    {
      "code": 6019,
      "msg": "EmptyInputs",
      "name": "EmptyInputs"
    },
    {
      "code": 6020,
      "msg": "CpiContextAccountUndefined",
      "name": "CpiContextAccountUndefined"
    },
    {
      "code": 6021,
      "msg": "CpiContextEmpty",
      "name": "CpiContextEmpty"
    },
    {
      "code": 6022,
      "msg": "CpiContextMissing",
      "name": "CpiContextMissing"
    },
    {
      "code": 6023,
      "msg": "DecompressionRecipientDefined",
      "name": "DecompressionRecipientDefined"
    },
    {
      "code": 6024,
      "msg": "SolPoolPdaDefined",
      "name": "SolPoolPdaDefined"
    },
    {
      "code": 6025,
      "msg": "AppendStateFailed",
      "name": "AppendStateFailed"
    },
    {
      "code": 6026,
      "msg": "The instruction is not callable",
      "name": "InstructionNotCallable"
    },
    {
      "code": 6027,
      "msg": "CpiContextFeePayerMismatch",
      "name": "CpiContextFeePayerMismatch"
    },
    {
      "code": 6028,
      "msg": "CpiContextAssociatedMerkleTreeMismatch",
      "name": "CpiContextAssociatedMerkleTreeMismatch"
    },
    {
      "code": 6029,
      "msg": "NoInputs",
      "name": "NoInputs"
    },
    {
      "code": 6030,
      "msg": "Input merkle tree indices are not in ascending order.",
      "name": "InputMerkleTreeIndicesNotInOrder"
    },
    {
      "code": 6031,
      "msg": "Output merkle tree indices are not in ascending order.",
      "name": "OutputMerkleTreeIndicesNotInOrder"
    },
    {
      "code": 6032,
      "name": "OutputMerkleTreeNotUnique"
    },
    {
      "code": 6033,
      "name": "DataFieldUndefined"
    },
    {
      "code": 6034,
      "name": "ReadOnlyAddressAlreadyExists"
    },
    {
      "code": 6035,
      "name": "ReadOnlyAccountDoesNotExist"
    },
    {
      "code": 6036,
      "name": "HashChainInputsLenghtInconsistent"
    },
    {
      "code": 6037,
      "name": "InvalidAddressTreeHeight"
    },
    {
      "code": 6038,
      "name": "InvalidStateTreeHeight"
    }
  ],
  "instructions": [
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "feePayer"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "cpiContextAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "associatedMerkleTree"
        }
      ],
      "args": [],
      "name": "initCpiContextAccount"
    },
    {
      "accounts": [
        {
          "docs": ["Fee payer needs to be mutable to pay rollover and protocol fees."],
          "isMut": true,
          "isSigner": true,
          "name": "feePayer"
        },
        {
          "isMut": false,
          "isSigner": true,
          "name": "authority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "registeredProgramPda"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "noopProgram"
        },
        {
          "docs": ["This pda is used to invoke the account compression program."],
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionAuthority"
        },
        {
          "docs": ["Merkle trees."],
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionProgram"
        },
        {
          "docs": [
            "Sol pool pda is used to store the native sol that has been compressed.",
            "It's only required when compressing or decompressing sol."
          ],
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "solPoolPda"
        },
        {
          "docs": [
            "Only needs to be provided for decompression as a recipient for the",
            "decompressed sol.",
            "Compressed sol originate from authority."
          ],
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "decompressionRecipient"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        }
      ],
      "args": [
        {
          "name": "inputs",
          "type": "bytes"
        }
      ],
      "name": "invoke"
    },
    {
      "accounts": [
        {
          "docs": ["Fee payer needs to be mutable to pay rollover and protocol fees."],
          "isMut": true,
          "isSigner": true,
          "name": "feePayer"
        },
        {
          "isMut": false,
          "isSigner": true,
          "name": "authority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "registeredProgramPda"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "noopProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "invokingProgram"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "solPoolPda"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "decompressionRecipient"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "cpiContextAccount"
        }
      ],
      "args": [
        {
          "name": "inputs",
          "type": "bytes"
        }
      ],
      "name": "invokeCpi"
    },
    {
      "accounts": [
        {
          "docs": ["Fee payer needs to be mutable to pay rollover and protocol fees."],
          "isMut": true,
          "isSigner": true,
          "name": "feePayer"
        },
        {
          "isMut": false,
          "isSigner": true,
          "name": "authority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "registeredProgramPda"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "noopProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "invokingProgram"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "solPoolPda"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "decompressionRecipient"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "cpiContextAccount"
        }
      ],
      "args": [
        {
          "name": "inputs",
          "type": "bytes"
        }
      ],
      "name": "invokeCpiWithReadOnly"
    },
    {
      "accounts": [
        {
          "docs": ["Fee payer needs to be mutable to pay rollover and protocol fees."],
          "isMut": true,
          "isSigner": true,
          "name": "feePayer"
        },
        {
          "isMut": false,
          "isSigner": true,
          "name": "authority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "registeredProgramPda"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "noopProgram"
        },
        {
          "docs": ["This pda is used to invoke the account compression program."],
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionAuthority"
        },
        {
          "docs": ["Merkle trees."],
          "isMut": false,
          "isSigner": false,
          "name": "accountCompressionProgram"
        },
        {
          "docs": [
            "Sol pool pda is used to store the native sol that has been compressed.",
            "It's only required when compressing or decompressing sol."
          ],
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "solPoolPda"
        },
        {
          "docs": [
            "Only needs to be provided for decompression as a recipient for the",
            "decompressed sol.",
            "Compressed sol originate from authority."
          ],
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "decompressionRecipient"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        }
      ],
      "args": [
        {
          "name": "inputs1",
          "type": {
            "defined": "InstructionDataInvoke"
          }
        },
        {
          "name": "inputs2",
          "type": {
            "defined": "InstructionDataInvokeCpi"
          }
        },
        {
          "name": "inputs3",
          "type": {
            "defined": "PublicTransactionEvent"
          }
        }
      ],
      "docs": [
        "This function is a stub to allow Anchor to include the input types in",
        "the IDL. It should not be included in production builds nor be called in",
        "practice."
      ],
      "name": "stubIdlBuild"
    }
  ],
  "name": "light_system_program",
  "types": [
    {
      "name": "InstructionDataInvoke",
      "type": {
        "fields": [
          {
            "name": "proof",
            "type": {
              "option": {
                "defined": "CompressedProof"
              }
            }
          },
          {
            "name": "inputCompressedAccountsWithMerkleContext",
            "type": {
              "vec": {
                "defined": "PackedCompressedAccountWithMerkleContext"
              }
            }
          },
          {
            "name": "newAddressParams",
            "type": {
              "vec": {
                "defined": "NewAddressParamsPacked"
              }
            }
          },
          {
            "name": "isCompress",
            "type": "bool"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "NewAddressParamsPacked",
      "type": {
        "fields": [
          {
            "name": "seed",
            "type": {
              "array": ["u8", 32]
            }
          },
          {
            "name": "addressQueueAccountIndex",
            "type": "u8"
          },
          {
            "name": "addressMerkleTreeAccountIndex",
            "type": "u8"
          },
          {
            "name": "addressMerkleTreeRootIndex",
            "type": "u16"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "OutputCompressedAccountWithPackedContext",
      "type": {
        "fields": [
          {
            "name": "compressedAccount",
            "type": {
              "defined": "CompressedAccount"
            }
          },
          {
            "name": "merkleTreeIndex",
            "type": "u8"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "CompressedProof",
      "type": {
        "fields": [
          {
            "name": "a",
            "type": {
              "array": ["u8", 32]
            }
          },
          {
            "name": "b",
            "type": {
              "array": ["u8", 64]
            }
          },
          {
            "name": "c",
            "type": {
              "array": ["u8", 32]
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "InstructionDataInvokeCpi",
      "type": {
        "fields": [
          {
            "name": "proof",
            "type": {
              "option": {
                "defined": "CompressedProof"
              }
            }
          },
          {
            "name": "newAddressParams",
            "type": {
              "vec": {
                "defined": "NewAddressParamsPacked"
              }
            }
          },
          {
            "name": "inputCompressedAccountsWithMerkleContext",
            "type": {
              "vec": {
                "defined": "PackedCompressedAccountWithMerkleContext"
              }
            }
          },
          {
            "name": "outputCompressedAccounts",
            "type": {
              "vec": {
                "defined": "OutputCompressedAccountWithPackedContext"
              }
            }
          },
          {
            "name": "compressOrDecompressLamports",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "cpiContext",
            "type": {
              "option": {
                "defined": "CompressedCpiContext"
              }
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "CompressedCpiContext",
      "type": {
        "fields": [
          {
            "docs": ["Is set by the program that is invoking the CPI to signal that is should", "set the cpi context."],
            "name": "setContext",
            "type": "bool"
          },
          {
            "docs": ["Is set to wipe the cpi context since someone could have set it before", "with unrelated data."],
            "name": "firstSetContext",
            "type": "bool"
          },
          {
            "docs": ["Index of cpi context account in remaining accounts."],
            "name": "cpiContextAccountIndex",
            "type": "u8"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "CompressedAccount",
      "type": {
        "fields": [
          {
            "name": "owner",
            "type": "publicKey"
          },
          {
            "name": "lamports",
            "type": "u64"
          },
          {
            "name": "address",
            "type": {
              "option": {
                "array": ["u8", 32]
              }
            }
          },
          {
            "name": "data",
            "type": {
              "option": {
                "defined": "CompressedAccountData"
              }
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "CompressedAccountData",
      "type": {
        "fields": [
          {
            "name": "discriminator",
            "type": {
              "array": ["u8", 8]
            }
          },
          {
            "name": "data",
            "type": "bytes"
          },
          {
            "name": "dataHash",
            "type": {
              "array": ["u8", 32]
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "PackedCompressedAccountWithMerkleContext",
      "type": {
        "fields": [
          {
            "name": "compressedAccount",
            "type": {
              "defined": "CompressedAccount"
            }
          },
          {
            "name": "merkleContext",
            "type": {
              "defined": "PackedMerkleContext"
            }
          },
          {
            "docs": ["Index of root used in inclusion validity proof."],
            "name": "rootIndex",
            "type": "u16"
          },
          {
            "docs": ["Placeholder to mark accounts read-only unimplemented set to false."],
            "name": "readOnly",
            "type": "bool"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "PackedMerkleContext",
      "type": {
        "fields": [
          {
            "name": "merkleTreePubkeyIndex",
            "type": "u8"
          },
          {
            "name": "queuePubkeyIndex",
            "type": "u8"
          },
          {
            "name": "leafIndex",
            "type": "u32"
          },
          {
            "name": "proveByIndex",
            "type": "bool"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "MerkleTreeSequenceNumber",
      "type": {
        "fields": [
          {
            "name": "pubkey",
            "type": "publicKey"
          },
          {
            "name": "seq",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "PublicTransactionEvent",
      "type": {
        "fields": [
          {
            "name": "inputCompressedAccountHashes",
            "type": {
              "vec": {
                "array": ["u8", 32]
              }
            }
          },
          {
            "name": "outputCompressedAccountHashes",
            "type": {
              "vec": {
                "array": ["u8", 32]
              }
            }
          },
          {
            "name": "outputCompressedAccounts",
            "type": {
              "vec": {
                "defined": "OutputCompressedAccountWithPackedContext"
              }
            }
          },
          {
            "name": "outputLeafIndices",
            "type": {
              "vec": "u32"
            }
          },
          {
            "name": "sequenceNumbers",
            "type": {
              "vec": {
                "defined": "MerkleTreeSequenceNumber"
              }
            }
          },
          {
            "name": "relayFee",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "compressOrDecompressLamports",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "pubkeyArray",
            "type": {
              "vec": "publicKey"
            }
          },
          {
            "name": "message",
            "type": {
              "option": "bytes"
            }
          }
        ],
        "kind": "struct"
      }
    }
  ],
  "version": "1.2.0"
}
